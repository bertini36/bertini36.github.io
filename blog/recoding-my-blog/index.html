<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <base href=/ > <link href=https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css rel=stylesheet> <link href=output.css rel=stylesheet> <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.png rel=icon type=image/png> <link href=client/main.2075857528.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>Recoding my blog ⛩</title><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <nav class="border-b-2 border-red-200 dark:border-b-4 font-light px-4 py-0"><ul class="svelte-i3hbql m-0 p-0"><li class=float-left><a class="block svelte-i3hbql dark:hover:text-red-400 hover:text-red-500 px-3 py-4" href=.>Home</a></li> <li class=float-left><a class="block svelte-i3hbql dark:hover:text-red-400 hover:text-red-500 px-3 py-4 no-underline" href=blog aria-current=page rel=prefetch>Blog</a></li> <li class=float-right><a class="block dark:hover:text-red-400 hover:text-red-500 px-3 py-4 no-underline" href=https://github.com/bertini36/bertini36.github.io target=_blank><i class="fa fa-github"></i></a></li> <li class="float-right pt-4"><label class="mr-2 text-xs" for=toggle>Dark mode</label> <div class="mr-2 align-middle duration-200 ease-in inline-block relative select-none transition w-10"><input class="block appearance-none focus:outline-none absolute bg-white border-4 cursor-pointer h-6 rounded-full svelte-i3hbql toggle-checkbox w-6" id=toggle name=toggle type=checkbox> <label class="block svelte-i3hbql cursor-pointer h-6 rounded-full bg-gray-300 overflow-hidden toggle-label" for=toggle></label></div></ul> </nav> <main class=svelte-6aaop8> <h1 class="text-4xl font-bold title">Recoding my blog ⛩</h1> <div class="mb-10 post"> <p class=post_p> During quarantine I had more free time than usual so I decided it was time to modernize my <a class=post_link href=https://albertopou.dev/ target=_blank>blog</a>. I coded the first version 5 years ago choosing technologies simply because I knew them. That resulted in a <a class=post_link href=https://www.djangoproject.com/ target=_blank>Django</a> app with a <a class=post_link href=https://www.postgresql.org/ target=_blank>Postgres</a> database and an outdated design using <a class=post_link href=https://getbootstrap.com/ target=_blank>Bootstrap</a>. After the years I used to use my blog to test new technologies so I had versions of my blog using <a class=post_link href=https://jquery.com/ target=_blank>JQuery</a>, <a class=post_link href=https://vuejs.org/ target=_blank>Vue</a>, Django, Django 2.0 using a DDD approach, ... and it was deployed on <a class=post_link href=https://www.digitalocean.com/ target=_blank>Digital Ocean</a>, <a class=post_link href=https://aws.amazon.com/ target=_blank>AWS</a>, <a class=post_link href=https://www.heroku.com/ target=_blank>Heroku</a>, Heroku using <a class=post_link href=https://www.terraform.io/ target=_blank>Terraform</a>, ... Anyone who saw the code could say that a blog should never be so over-engineer, and I agree. For this reason I decided to check which technologies were being used nowadays to make simple blogs. </p> <p class=post_p> My goal was to make a simple, fast and modern blog which allows me to write posts easily, deploy them on <a class=post_link href=https://pages.github.com/ target=_blank>Github Pages</a> and, of course, spend as little time as possible on maintenance. After check several technologies a co-worker told me about <a class=post_link href=https://svelte.dev/ target=_blank>Svelte</a> and I loved it. Svelte and its server-rendering backend <a class=post_link href=https://sapper.svelte.dev/ target=_blank>Sapper</a> were what I was looking for and there were a lot of examples of blogs made with these technologies. After that I just required a new design. I was tired about Bootstrap designs so I was looking for something new, and then I found <a class=post_link href=https://tailwindcss.com/ target=_blank>Tailwind</a>. Tailwind had all that I needed. A framework which, after memorize some easy classes, allows you not to write CSS. Maybe for you this is not a plus feature but for me, a backend coder, it was perfect. </p> <h4>The good parts of this architecture</h4> <p class=post_p> After this introduction I want to list the advantages that I found making my blog with Svelte, Sapper and Tailwind. Remember that this benefits I found exist in the case of study of a simple blog. </p> <ul class=post_list> <li> <strong>Easy installation</strong>. Sapper has a great initial template and several pre-configured commands which allows you to focus on the important parts of your project. </li> <li> <strong>Great development environment</strong>. Live reload! When you modify some file, the navigator reloads the page automatically. Maybe I'm overestimating this feature but I work everyday in an outdated frontend and this feature drove me crazy! </li> <li> <strong>Static page</strong>. Sapper allows you to export your project as a static site. Then it can be hosted and served as static files, which allows it to be deployed on hosting environments such as Github Pages. To serve the page as static files also improves the speed notoriously, obtaining better results in web positioning. You can use apps as <a class=post_link href=https://developers.google.com/web/tools/lighthouse target=_blank>Lighthouse</a> to check this. </li> <li> <strong>Elegant syntax</strong>. I worked with different frontend technologies such as JQuery, <a class=post_link href=https://knockoutjs.com/ target=_blank>Knockout</a>, <a class=post_link href=https://angular.io/ target=_blank>Angular</a> or Vue and Svelte syntax looks perfect for me. It's easy to understand, simple and elegant. In the following section you'll be able to check it in a easy example I'll show you. </li> <li> <strong>Component structure</strong>. One thing normally I don't like in a frontend based project is the way how developers structure the code. Last years I was working in projects where component HTML, Javascript and specific CSS were in different folders and then developers loose to much time searching the Javascript or de CSS associated to a particular template. Svelte joins all in one file (.svelte) and in my opinion is a great solution to improve the components reusability. </li> <li> <strong>Speed</strong>. Svelte is based on reactivity. To understand easily which reasons allows Svelte to get such good results in terms of speed compared to other frameworks you can watch this <a class=post_link href="https://www.youtube.com/watch?v=gJ2P6hGwcgo" target=_blank>great conference</a> of its creator Rich Harris. </li> <li> <strong>No CSS</strong>. With Tailwind you don't need to write CSS code. With its pre-defined classes you can make pretty much anything. </li> <li> <strong>Easy personalization</strong>. At Tailwind config file you can configure stuff as main colors, default spacing, text font, ... and using @apply CSS sentence you can create your own classes easily. </li> <li> <strong>0 costs</strong>. With this architecture I was able to have my blog with 0 costs (I just have to pay the domain). </li> </ul> <p class=post_p> Now I'm going to show you how I made the comments engine using <a class=post_link href=https://www.serverless.com/ target=_blank>Serverless</a>. </p> <h4>Comments engine</h4> <p class=post_p> A comments engine requires a persistent storage so I needed to add something else to the blog in order to allow users to write comments. Serverless is a framework that makes easier to mount a serverless infrastructure with AWS. In this case I decided to use <a class=post_link href=https://aws.amazon.com/dynamodb/ target=_blank>Dynamo DB</a> to store post user comments and <a class=post_link href=https://aws.amazon.com/lambda/ target=_blank>Lambda</a> to get and publish comments. This functions are not all time waiting for requests in a server (for this reason is so cheap). AWS Lambda deploys them very fast just when they are invoked by different events such as queue events, S3 changes, HTTP requests, .... In this case the event was going to be an HTTP request to the <a class=post_link href=https://aws.amazon.com/api-gateway/ target=_blank>AWS API Gateway</a>. </p> <p class=post_p> All this could seem very complex but with a framework as Serverless is done with a simple config file. <a class=post_link href=https://github.com/bertini36/comments-engine/blob/master/serverless.yml target=_blank>Here</a> you have the config file I wrote to have 2 lambda functions (at 2 different endpoints), one for get post comments and another to publish new ones. At this config file you can configure several things, from language used and access management till requests rate limits and database resources. In this case the configuration is very simple, the 2 lambda functions are 2 views of a simple <a class=post_link href=https://flask.palletsprojects.com/en/1.1.x/ target=_blank>Flask</a> application. <a class=post_link href=https://github.com/bertini36/comments-engine/blob/master/src/entrypoints/infrastructure/controllers.py target=_blank> These controllers</a> just get the comments and stores a new one in the database (in this case Dynamo DB, you can check the databse repository <a class=post_link href=https://github.com/bertini36/comments-engine/blob/master/src/modules/comments/infrastructure/repository/dynamo_comments_repository.py target=_blank>here</a>). </p> <p class=post_p> Check <a class=post_link href=https://github.com/bertini36/comments-engine/blob/master/README.md target=_blank>comments engine README</a> in order to install this simple API and start using it and if you find some error please let me know! </p> <p class=post_p> Now we need a Svelte component that gets the comments of a post and publish new ones using the endpoints created with Serverless. In the following code you can revise the component part required to get and show the comments of a post (.svelte file). </p> <div class=post_code> <pre><code>
&lt;script>
   export let slug;
   const comments_url = `dummy.com/prod/comments/${slug}`;
   let comments = getComments();

   async function getComments() {
      const response = await fetch(comments_url);
      if (!response.ok) throw new Error(text);
      return await response.json();
    }
&lt;/script>

{#await comments}
   &lt;figure class="flex justify-center">&lt;img class="w-48" src="loader.gif" alt="Loader">&lt;/figure>
{:then comments}
   {#each comments as comment}
      &lt;div class="shadow bg-white rounded-md mb-1" role="alert">
         &lt;div class="p-4 flex">
            &lt;div class="pl-2">
               &lt;p class="font-bold text-gray-700">{comment.text}&lt;/p>
               &lt;p class="text-gray-600">
                  {comment.name} &lt;span class="text-gray-500 text-sm">{comment.date}&lt;/span>
                &lt;/p>
            &lt;/div>
         &lt;/div>
      &lt;/div>
   {/each}
{:catch error}
   &lt;p>No comments yet&lt;/p>
{/await}
	</code></pre> </div> <p class=post_p> I'm using {#await} Svelte declarative to wait the fetch promise of the comments request. Svelte is going to manage the comments as soon as the promise ends and then comments will be rendered using {#each} declarative. All classes used to give styles are Tailwind classes. If you want to see the rest of the code to publish new comments <a class=post_link href=https://github.com/bertini36/bertini36.github.io/blob/develop/src/components/Comments.svelte target=_blank>here</a> you have the complete component and the result online is just below! </p> <p class=post_p> Feel free to ask anything in the comments section! </p> <div class="border-red-400 border-t-2 dark:border-white my-10"></div> <div><h4 class="mb-10 text-2xl text-black text-center">Write a comment! 😀</h4> <figure class="flex justify-center"><img alt=Loader class=w-48 src=loader.gif></figure> <form class="w-full mt-16" onsubmit="return false"><div class="flex -mx-3 flex-wrap mb-6"><div class="w-full px-3 md:w-1/2 mb-6 md:mb-0"><label class="block dark:text-white text-gray-700 font-bold mb-2 text-xs tracking-wide uppercase" for=name>Name</label> <input class="block dark:text-white text-gray-700 appearance-none bg-gray-200 border border-gray-200 focus:bg-white focus:border-gray-500 focus:outline-none leading-tight px-4 py-3 rounded w-full"> <p class="dark:text-white text-xs text-red-600"></div> <div class="w-full px-3 md:w-1/2"><label class="block dark:text-white text-gray-700 font-bold mb-2 text-xs tracking-wide uppercase" for=email>Email</label> <input class="block dark:text-white text-gray-700 appearance-none bg-gray-200 border border-gray-200 focus:bg-white focus:border-gray-500 focus:outline-none leading-tight px-4 py-3 rounded w-full"> <p class="dark:text-white text-xs text-red-600"></div></div> <div class="flex -mx-3 flex-wrap mb-6"><div class="w-full px-3"><label class="block dark:text-white text-gray-700 font-bold mb-2 text-xs tracking-wide uppercase" for=comment>Comment</label> <textarea class="block dark:text-white text-gray-700 appearance-none bg-gray-200 border border-gray-200 focus:bg-white focus:border-gray-500 focus:outline-none leading-tight px-4 py-3 rounded w-full" rows=2></textarea> <p class="dark:text-white text-xs text-red-600"></div></div> <div class=w-full><button class="w-full px-4 rounded bg-red-500 border-b-4 border-red-700 dark:bg-red-400 dark:border-red-500 dark:hover:bg-red-300 dark:hover:border-red-400 font-bold hover:bg-red-400 hover:border-red-500 py-2 text-white">Send </button></div></form></div></div> </main></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{post:{title:"Recoding my blog ⛩",slug:"recoding-my-blog",tags:["#svelte","#sapper","#serverless","#python","#javascript"],date:"2020-07-12",html:"\n\u003Cp class=\"post_p\"\u003E\n\tDuring quarantine I had more free time than usual so I decided it was time\n\tto modernize my \u003Ca href=\"https:\u002F\u002Falbertopou.dev\u002F\" class=\"post_link\" target=\"_blank\"\u003Eblog\u003C\u002Fa\u003E.\n\tI coded the first version 5 years ago choosing technologies\n\tsimply because I knew them. That resulted in a \u003Ca href=\"https:\u002F\u002Fwww.djangoproject.com\u002F\" class=\"post_link\" target=\"_blank\"\u003EDjango\u003C\u002Fa\u003E\n\t app with a \u003Ca href=\"https:\u002F\u002Fwww.postgresql.org\u002F\" class=\"post_link\" target=\"_blank\"\u003EPostgres\u003C\u002Fa\u003E database\n\t and an outdated design using \u003Ca href=\"https:\u002F\u002Fgetbootstrap.com\u002F\" class=\"post_link\" target=\"_blank\"\u003EBootstrap\u003C\u002Fa\u003E.\n\tAfter the years I used to use my blog to test new technologies so I had versions\n\tof my blog using \u003Ca href=\"https:\u002F\u002Fjquery.com\u002F\" class=\"post_link\" target=\"_blank\"\u003EJQuery\u003C\u002Fa\u003E,\n\t\u003Ca href=\"https:\u002F\u002Fvuejs.org\u002F\" class=\"post_link\" target=\"_blank\"\u003EVue\u003C\u002Fa\u003E, Django, Django 2.0\n\tusing a DDD approach, ... and it was deployed on \u003Ca href=\"https:\u002F\u002Fwww.digitalocean.com\u002F\" class=\"post_link\" target=\"_blank\"\u003EDigital Ocean\u003C\u002Fa\u003E,\n\t\u003Ca href=\"https:\u002F\u002Faws.amazon.com\u002F\" class=\"post_link\" target=\"_blank\"\u003EAWS\u003C\u002Fa\u003E,\n\t\u003Ca href=\"https:\u002F\u002Fwww.heroku.com\u002F\" class=\"post_link\" target=\"_blank\"\u003EHeroku\u003C\u002Fa\u003E,\n\tHeroku using \u003Ca href=\"https:\u002F\u002Fwww.terraform.io\u002F\" class=\"post_link\" target=\"_blank\"\u003ETerraform\u003C\u002Fa\u003E, ...\n\tAnyone who saw the code could say that a blog should never be so over-engineer, and I agree. For this\n\treason I decided to check which technologies were being used nowadays to make simple blogs.\n\u003C\u002Fp\u003E\n\u003Cp class=\"post_p\"\u003E\n\tMy goal was to make a simple, fast and modern blog which allows me to write posts easily,\n\tdeploy them on \u003Ca href=\"https:\u002F\u002Fpages.github.com\u002F\" class=\"post_link\" target=\"_blank\"\u003EGithub Pages\u003C\u002Fa\u003E\n\tand, of course, spend as little time as possible on maintenance. After check several technologies\n\ta co-worker told me about \u003Ca href=\"https:\u002F\u002Fsvelte.dev\u002F\" class=\"post_link\" target=\"_blank\"\u003ESvelte\u003C\u002Fa\u003E\n\tand I loved it. Svelte and its server-rendering backend \u003Ca href=\"https:\u002F\u002Fsapper.svelte.dev\u002F\" class=\"post_link\" target=\"_blank\"\u003ESapper\u003C\u002Fa\u003E\n\twere what I was looking for and there were a lot of examples of blogs made with these technologies.\n\tAfter that I just required a new design. I was tired about Bootstrap designs so I was looking\n\tfor something new, and then I found \u003Ca href=\"https:\u002F\u002Ftailwindcss.com\u002F\" class=\"post_link\" target=\"_blank\"\u003ETailwind\u003C\u002Fa\u003E.\n\tTailwind had all that I needed. A framework which, after memorize some easy classes, allows you not to write CSS. Maybe for\n\tyou this is not a plus feature but for me, a backend coder, it was perfect.\n\u003C\u002Fp\u003E\n\u003Ch4\u003EThe good parts of this architecture\u003C\u002Fh4\u003E\n\u003Cp class=\"post_p\"\u003E\n\tAfter this introduction I want to list the advantages that I found making my\n\tblog with Svelte, Sapper and Tailwind. Remember that this benefits I found exist in\n\tthe case of study of a simple blog.\n\u003C\u002Fp\u003E\n\u003Cul class=\"post_list\"\u003E\n\t\u003Cli\u003E\n\t\t\u003Cstrong\u003EEasy installation\u003C\u002Fstrong\u003E. Sapper has a great initial template and several pre-configured commands\n\t\twhich allows you to focus on the important parts of your project.\n\t\u003C\u002Fli\u003E\n\t\u003Cli\u003E\n\t\t\u003Cstrong\u003EGreat development environment\u003C\u002Fstrong\u003E. Live reload! When you modify some file, the navigator\n\t\treloads the page automatically. Maybe I'm overestimating this feature but I work everyday in an outdated\n\t\tfrontend and this feature drove me crazy!\n\t\u003C\u002Fli\u003E\n\t\u003Cli\u003E\n\t\t\u003Cstrong\u003EStatic page\u003C\u002Fstrong\u003E. Sapper allows you to export your project as a static site.\n\t\tThen it can be hosted and served as static files, which allows it to be deployed on hosting\n\t\tenvironments such as Github Pages. To serve the page as static files also improves\n\t\tthe speed notoriously, obtaining better results in web positioning. You can use apps as\n\t\t\u003Ca href=\"https:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Ftools\u002Flighthouse\" class=\"post_link\" target=\"_blank\"\u003ELighthouse\u003C\u002Fa\u003E to check this.\n\t\u003C\u002Fli\u003E\n\t\u003Cli\u003E\n\t\t\u003Cstrong\u003EElegant syntax\u003C\u002Fstrong\u003E. I worked with different frontend technologies such as JQuery,\n\t\t\u003Ca href=\"https:\u002F\u002Fknockoutjs.com\u002F\" class=\"post_link\" target=\"_blank\"\u003EKnockout\u003C\u002Fa\u003E,\n\t\t \u003Ca href=\"https:\u002F\u002Fangular.io\u002F\" class=\"post_link\" target=\"_blank\"\u003EAngular\u003C\u002Fa\u003E or Vue\n\t\tand Svelte syntax looks perfect for me. It's easy to understand, simple and elegant. In the following section you'll\n\t\tbe able to check it in a easy example I'll show you.\n\t\u003C\u002Fli\u003E\n\t\u003Cli\u003E\n\t\t\u003Cstrong\u003EComponent structure\u003C\u002Fstrong\u003E. One thing normally I don't like in a frontend based project is\n\t\tthe way how developers structure the code. Last years I was working in projects where component HTML, Javascript and\n\t\tspecific CSS were in different folders and then developers loose to much time searching the\n\t\tJavascript or de CSS associated to a particular template. Svelte joins all in one file (.svelte) and\n\t\tin my opinion is a great solution to improve the components reusability.\n\t\u003C\u002Fli\u003E\n\t\u003Cli\u003E\n\t\t\u003Cstrong\u003ESpeed\u003C\u002Fstrong\u003E. Svelte is based on reactivity. To understand easily which reasons\n\t\tallows Svelte to get such good results in terms of speed compared to other frameworks you can watch this\n\t\t\u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=gJ2P6hGwcgo\" class=\"post_link\" target=\"_blank\"\u003Egreat conference\u003C\u002Fa\u003E\n\t\tof its creator Rich Harris.\n\t\u003C\u002Fli\u003E\n\t\u003Cli\u003E\n\t\t\u003Cstrong\u003ENo CSS\u003C\u002Fstrong\u003E. With Tailwind you don't need to write CSS code. With its pre-defined classes\n\t\tyou can make pretty much anything.\n\t\u003C\u002Fli\u003E\n\t\u003Cli\u003E\n\t\t\u003Cstrong\u003EEasy personalization\u003C\u002Fstrong\u003E. At Tailwind config file you can configure stuff as main\n\t\tcolors, default spacing, text font, ... and using @apply CSS sentence you can create your own classes easily.\n\t\u003C\u002Fli\u003E\n\t\u003Cli\u003E\n\t\t\u003Cstrong\u003E0 costs\u003C\u002Fstrong\u003E. With this architecture I was able to have my blog with 0 costs (I just have to pay the domain).\n\t\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp class=\"post_p\"\u003E\n\tNow I'm going to show\n\tyou how I made the comments engine using \u003Ca href=\"https:\u002F\u002Fwww.serverless.com\u002F\" class=\"post_link\" target=\"_blank\"\u003EServerless\u003C\u002Fa\u003E.\n\u003C\u002Fp\u003E\n\u003Ch4\u003EComments engine\u003C\u002Fh4\u003E\n\u003Cp class=\"post_p\"\u003E\n\tA comments engine requires a persistent storage so I needed to add something else to the blog in order to allow users to write comments.\n\tServerless is a framework that makes easier to mount a serverless infrastructure with AWS. In this case I decided\n\tto use \u003Ca href=\"https:\u002F\u002Faws.amazon.com\u002Fdynamodb\u002F\" class=\"post_link\" target=\"_blank\"\u003EDynamo DB\u003C\u002Fa\u003E\n\tto store post user comments and \u003Ca href=\"https:\u002F\u002Faws.amazon.com\u002Flambda\u002F\" class=\"post_link\" target=\"_blank\"\u003ELambda\u003C\u002Fa\u003E to get and publish comments.\n\tThis functions are not all time waiting for requests in a server (for this reason is so cheap).\n\tAWS Lambda deploys them very fast just when they are invoked by different events such as queue events, S3 changes, HTTP requests, ....\n\tIn this case the event was going to\n\tbe an HTTP request to the \u003Ca href=\"https:\u002F\u002Faws.amazon.com\u002Fapi-gateway\u002F\" class=\"post_link\" target=\"_blank\"\u003EAWS API Gateway\u003C\u002Fa\u003E.\n\u003C\u002Fp\u003E\n\u003Cp class=\"post_p\"\u003E\n\tAll this could seem very complex but with a framework as Serverless is done with a simple config file.\n\t\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fbertini36\u002Fcomments-engine\u002Fblob\u002Fmaster\u002Fserverless.yml\" class=\"post_link\" target=\"_blank\"\u003EHere\u003C\u002Fa\u003E\n\tyou have the config file I wrote to have 2 lambda functions (at 2 different endpoints), one for\n\tget post comments and another to publish new ones. At this config file you can configure several things, from\n\tlanguage used and access management till requests rate limits and database resources. In this case the configuration is very simple,\n\tthe 2 lambda functions are 2 views of a simple \u003Ca href=\"https:\u002F\u002Fflask.palletsprojects.com\u002Fen\u002F1.1.x\u002F\" class=\"post_link\" target=\"_blank\"\u003EFlask\u003C\u002Fa\u003E application.\n\t\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fbertini36\u002Fcomments-engine\u002Fblob\u002Fmaster\u002Fsrc\u002Fentrypoints\u002Finfrastructure\u002Fcontrollers.py\" class=\"post_link\" target=\"_blank\"\u003E\n\tThese controllers\u003C\u002Fa\u003E just get the comments and stores a new one in the database (in this case Dynamo DB, you can check the databse repository\n\t\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fbertini36\u002Fcomments-engine\u002Fblob\u002Fmaster\u002Fsrc\u002Fmodules\u002Fcomments\u002Finfrastructure\u002Frepository\u002Fdynamo_comments_repository.py\" class=\"post_link\" target=\"_blank\"\u003Ehere\u003C\u002Fa\u003E).\n\u003C\u002Fp\u003E\n\u003Cp class=\"post_p\"\u003E\n\tCheck \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fbertini36\u002Fcomments-engine\u002Fblob\u002Fmaster\u002FREADME.md\" class=\"post_link\" target=\"_blank\"\u003Ecomments engine README\u003C\u002Fa\u003E\n\tin order to install this simple API and start using it and if you find some error please let me know!\n\u003C\u002Fp\u003E\n\u003Cp class=\"post_p\"\u003E\n\tNow we need a Svelte component that gets the comments of a post and publish new ones using the endpoints created with Serverless. In the following\n\tcode you can revise the component part required to get and show the comments of a post (.svelte file).\n\u003C\u002Fp\u003E\n\u003Cdiv class=\"post_code\"\u003E\n\t\u003Cpre\u003E\u003Ccode\u003E\n&lt;script&gt;\n   export let slug;\n   const comments_url = `dummy.com\u002Fprod\u002Fcomments\u002F${slug}`;\n   let comments = getComments();\n\n   async function getComments() {\n      const response = await fetch(comments_url);\n      if (!response.ok) throw new Error(text);\n      return await response.json();\n    }\n&lt;\u002Fscript&gt;\n\n{#await comments}\n   &lt;figure class=\"flex justify-center\"\u003E&lt;img class=\"w-48\" src=\"loader.gif\" alt=\"Loader\"&gt;&lt;\u002Ffigure&gt;\n{:then comments}\n   {#each comments as comment}\n      &lt;div class=\"shadow bg-white rounded-md mb-1\" role=\"alert\"&gt;\n         &lt;div class=\"p-4 flex\"&gt;\n            &lt;div class=\"pl-2\"&gt;\n               &lt;p class=\"font-bold text-gray-700\"&gt;{comment.text}&lt;\u002Fp&gt;\n               &lt;p class=\"text-gray-600\"&gt;\n                  {comment.name} &lt;span class=\"text-gray-500 text-sm\"&gt;{comment.date}&lt;\u002Fspan&gt;\n                &lt;\u002Fp&gt;\n            &lt;\u002Fdiv&gt;\n         &lt;\u002Fdiv&gt;\n      &lt;\u002Fdiv&gt;\n   {\u002Feach}\n{:catch error}\n   &lt;p\u003ENo comments yet&lt;\u002Fp&gt;\n{\u002Fawait}\n\t\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003Cp class=\"post_p\"\u003E\n\tI'm using {#await} Svelte declarative to wait the fetch promise of the comments request. Svelte\n\tis going to manage the comments as soon as the promise ends and then comments will be rendered\n\tusing {#each} declarative. All classes used to give styles are Tailwind classes. If you want to see\n\tthe rest of the code to publish new comments\n\t\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fbertini36\u002Fbertini36.github.io\u002Fblob\u002Fdevelop\u002Fsrc\u002Fcomponents\u002FComments.svelte\" class=\"post_link\" target=\"_blank\"\u003Ehere\u003C\u002Fa\u003E\n\tyou have the complete component and the result online is just below!\n\u003C\u002Fp\u003E\n\u003Cp class=\"post_p\"\u003E\n\tFeel free to ask anything in the comments section!\n\u003C\u002Fp\u003E\n\t\t"},comments_url:"https:\u002F\u002Fjxd245msii.execute-api.eu-west-1.amazonaws.com\u002Fprod\u002Fcomments\u002Frecoding-my-blog"}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.7dd5bfe5.js"}catch(e){main="/client/legacy/client.a3c00be9.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> 