import{S as e,i as t,s as a,o as s,e as r,a as l,t as o,b as n,f as c,d as i,c as f,g as u,h as m,j as h,k as d,p,r as x,l as g,n as v,u as b,v as y,m as w,w as E,q as k,x as I,y as V,z as D,A as $,B as N,H as j}from"./client.8e6d9fe5.js";function P(e,t,a){const s=e.slice();return s[1]=t[a],s}function T(e){let t,a;return{c(){t=r("p"),a=o("No comments yet")},l(e){t=n(e,"P",{});var s=c(t);a=u(s,"No comments yet"),s.forEach(i)},m(e,s){h(e,t,s),d(t,a)},p:v,d(e){e&&i(t)}}}function A(e){let t,a=e[2],s=[];for(let t=0;t<a.length;t+=1)s[t]=L(P(e,a,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=y()},l(e){for(let t=0;t<s.length;t+=1)s[t].l(e);t=y()},m(e,a){for(let t=0;t<s.length;t+=1)s[t].m(e,a);h(e,t,a)},p(e,r){if(4&r){let l;for(a=e[2],l=0;l<a.length;l+=1){const o=P(e,a,l);s[l]?s[l].p(o,r):(s[l]=L(o),s[l].c(),s[l].m(t.parentNode,t))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}},d(e){w(s,e),e&&i(t)}}}function L(e){let t,a,s,p,x,v,b,y,w,E,k,I,V=e[1].text+"",D=e[1].name+"",$=O(e[1].date)+"";return{c(){t=r("div"),a=r("div"),s=r("div"),p=r("p"),x=o(V),v=l(),b=r("p"),y=o(D),w=l(),E=r("span"),k=o($),I=l(),this.h()},l(e){t=n(e,"DIV",{class:!0,role:!0});var r=c(t);a=n(r,"DIV",{class:!0});var l=c(a);s=n(l,"DIV",{class:!0});var o=c(s);p=n(o,"P",{class:!0});var m=c(p);x=u(m,V),m.forEach(i),v=f(o),b=n(o,"P",{class:!0});var h=c(b);y=u(h,D),w=f(h),E=n(h,"SPAN",{class:!0});var d=c(E);k=u(d,$),d.forEach(i),h.forEach(i),o.forEach(i),l.forEach(i),I=f(r),r.forEach(i),this.h()},h(){m(p,"class","font-bold text-gray-700"),m(E,"class","text-gray-500 text-sm"),m(b,"class","text-gray-600"),m(s,"class","pl-2"),m(a,"class","p-4 flex"),m(t,"class","shadow bg-white rounded-md mb-1"),m(t,"role","alert")},m(e,r){h(e,t,r),d(t,a),d(a,s),d(s,p),d(p,x),d(s,v),d(s,b),d(b,y),d(b,w),d(b,E),d(E,k),d(t,I)},p(e,t){4&t&&V!==(V=e[1].text+"")&&g(x,V),4&t&&D!==(D=e[1].name+"")&&g(y,D),4&t&&$!==($=O(e[1].date)+"")&&g(k,$)},d(e){e&&i(t)}}}function S(e){let t,a,s;return{c(){t=r("figure"),a=r("img"),this.h()},l(e){t=n(e,"FIGURE",{class:!0});var s=c(t);a=n(s,"IMG",{class:!0,src:!0,alt:!0}),s.forEach(i),this.h()},h(){m(a,"class","w-48"),a.src!==(s="loader.gif")&&m(a,"src","loader.gif"),m(a,"alt","Loader"),m(t,"class","flex justify-center")},m(e,s){h(e,t,s),d(t,a)},p:v,d(e){e&&i(t)}}}function B(e){let t,a,y,w,E,k,I,V,D,$,N,j,P,L,B,O,U,q,C,H,R,Y,z,F,G,M,W,J,X,K,Q,Z,_,ee,te,ae,se,re,le,oe,ne,ce,ie,fe=e[0].name+"",ue=e[0].email+"",me=e[0].text+"",he={ctx:e,current:null,token:null,pending:S,then:A,catch:T,value:2,error:14};return s(I=e[2],he),{c(){t=r("div"),a=l(),y=r("div"),w=r("h4"),E=o("Write a comment! ðŸ˜€"),k=l(),he.block.c(),V=l(),D=r("form"),$=r("div"),N=r("div"),j=r("label"),P=o("Name"),L=l(),B=r("input"),O=l(),U=r("p"),q=o(fe),C=l(),H=r("div"),R=r("label"),Y=o("Email"),z=l(),F=r("input"),G=l(),M=r("p"),W=o(ue),J=l(),X=r("div"),K=r("div"),Q=r("label"),Z=o("Comment"),_=l(),ee=r("textarea"),te=l(),ae=r("p"),se=o(me),re=l(),le=r("div"),oe=r("button"),ne=o("Send"),this.h()},l(e){t=n(e,"DIV",{class:!0}),c(t).forEach(i),a=f(e),y=n(e,"DIV",{});var s=c(y);w=n(s,"H4",{class:!0});var r=c(w);E=u(r,"Write a comment! ðŸ˜€"),r.forEach(i),k=f(s),he.block.l(s),V=f(s),D=n(s,"FORM",{onsubmit:!0,class:!0});var l=c(D);$=n(l,"DIV",{class:!0});var o=c($);N=n(o,"DIV",{class:!0});var m=c(N);j=n(m,"LABEL",{for:!0,class:!0});var h=c(j);P=u(h,"Name"),h.forEach(i),L=f(m),B=n(m,"INPUT",{type:!0,class:!0}),O=f(m),U=n(m,"P",{class:!0});var d=c(U);q=u(d,fe),d.forEach(i),m.forEach(i),C=f(o),H=n(o,"DIV",{class:!0});var p=c(H);R=n(p,"LABEL",{for:!0,class:!0});var x=c(R);Y=u(x,"Email"),x.forEach(i),z=f(p),F=n(p,"INPUT",{type:!0,class:!0}),G=f(p),M=n(p,"P",{class:!0});var g=c(M);W=u(g,ue),g.forEach(i),p.forEach(i),o.forEach(i),J=f(l),X=n(l,"DIV",{class:!0});var v=c(X);K=n(v,"DIV",{class:!0});var b=c(K);Q=n(b,"LABEL",{for:!0,class:!0});var I=c(Q);Z=u(I,"Comment"),I.forEach(i),_=f(b),ee=n(b,"TEXTAREA",{rows:!0,class:!0}),c(ee).forEach(i),te=f(b),ae=n(b,"P",{class:!0});var T=c(ae);se=u(T,me),T.forEach(i),b.forEach(i),v.forEach(i),re=f(l),le=n(l,"DIV",{class:!0});var A=c(le);oe=n(A,"BUTTON",{class:!0});var S=c(oe);ne=u(S,"Send"),S.forEach(i),A.forEach(i),l.forEach(i),s.forEach(i),this.h()},h(){m(t,"class","border-t-2 border-red-400 my-10"),m(w,"class","text-2xl text-black text-center mb-10"),m(j,"for","name"),m(j,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),m(B,"type","text"),m(B,"class","appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"),m(U,"class","text-red-600 text-xs"),m(N,"class","w-full md:w-1/2 px-3 mb-6 md:mb-0"),m(R,"for","email"),m(R,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),m(F,"type","text"),m(F,"class","appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"),m(M,"class","text-red-600 text-xs"),m(H,"class","w-full md:w-1/2 px-3"),m($,"class","flex flex-wrap -mx-3 mb-6"),m(Q,"for","comment"),m(Q,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),m(ee,"rows","2"),m(ee,"class","appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"),m(ae,"class","text-red-600 text-xs"),m(K,"class","w-full px-3"),m(X,"class","flex flex-wrap -mx-3 mb-6"),m(oe,"class","w-full bg-red-500 hover:bg-red-400 text-white font-bold py-2 px-4 border-b-4 border-red-700 hover:border-red-500 rounded"),m(le,"class","w-full"),m(D,"onsubmit","return false"),m(D,"class","w-full mt-16")},m(s,r){h(s,t,r),h(s,a,r),h(s,y,r),d(y,w),d(w,E),d(y,k),he.block.m(y,he.anchor=null),he.mount=()=>y,he.anchor=V,d(y,V),d(y,D),d(D,$),d($,N),d(N,j),d(j,P),d(N,L),d(N,B),p(B,e[1].name),d(N,O),d(N,U),d(U,q),d($,C),d($,H),d(H,R),d(R,Y),d(H,z),d(H,F),p(F,e[1].email),d(H,G),d(H,M),d(M,W),d(D,J),d(D,X),d(X,K),d(K,Q),d(Q,Z),d(K,_),d(K,ee),p(ee,e[1].text),d(K,te),d(K,ae),d(ae,se),d(D,re),d(D,le),d(le,oe),d(oe,ne),ce||(ie=[x(B,"input",e[9]),x(F,"input",e[10]),x(ee,"input",e[11]),x(oe,"click",e[3])],ce=!0)},p(t,[a]){if(e=t,he.ctx=e,4&a&&I!==(I=e[2])&&s(I,he));else{const t=e.slice();t[2]=he.resolved,he.block.p(t,a)}2&a&&B.value!==e[1].name&&p(B,e[1].name),1&a&&fe!==(fe=e[0].name+"")&&g(q,fe),2&a&&F.value!==e[1].email&&p(F,e[1].email),1&a&&ue!==(ue=e[0].email+"")&&g(W,ue),2&a&&p(ee,e[1].text),1&a&&me!==(me=e[0].text+"")&&g(se,me)},i:v,o:v,d(e){e&&i(t),e&&i(a),e&&i(y),he.block.d(),he.token=null,he=null,ce=!1,b(ie)}}}function O(e){return e.split(".")[0]}function U(e){for(let t in e)e[t]="";return e}function q(e,t,a){let{slug:s}=t,{env:r}=t,l="https://xjdf38glwl.execute-api.eu-west-1.amazonaws.com/prod/comments/"+s;"development"===r&&(l="http://127.0.0.1:5000/comments/"+s);let o={name:"",email:"",text:""},n={name:"",email:"",text:""},c=i();async function i(){const e=await fetch(l);if(!e.ok)throw new Error(text);return await e.json()}function f(){let e=!1;return""===o.name&&(a(0,n.name="You have to specify your name",n),e=!0),""!==o.email&&-1!==o.email.indexOf("@")||(a(0,n.email="You have to specify your email",n),e=!0),""===o.text&&(a(0,n.text="You have to specify a comment",n),e=!0),e}return e.$set=e=>{"slug"in e&&a(4,s=e.slug),"env"in e&&a(5,r=e.env)},[n,o,c,async function(){a(0,n=U(n)),f()||(await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),a(2,c=i()),a(1,o=U(o)))},s,r,l,i,f,function(){o.name=this.value,a(1,o)},function(){o.email=this.value,a(1,o)},function(){o.text=this.value,a(1,o)}]}class C extends e{constructor(e){super(),t(this,e,q,B,a,{slug:4,env:5})}}function H(e){let t,a,s,p,x,v,b,y,w,P=e[0].title+"",T=e[0].html+"";document.title=t=e[0].title;const A=new C({props:{slug:e[0].slug,env:e[1]}});return{c(){a=l(),s=r("h1"),p=o(P),x=l(),v=r("div"),y=l(),E(A.$$.fragment),this.h()},l(e){k('[data-svelte="svelte-1uty71u"]',document.head).forEach(i),a=f(e),s=n(e,"H1",{class:!0});var t=c(s);p=u(t,P),t.forEach(i),x=f(e),v=n(e,"DIV",{class:!0});var r=c(v);y=f(r),I(A.$$.fragment,r),r.forEach(i),this.h()},h(){m(s,"class","text-4xl"),b=new j(y),m(v,"class","content mb-10 svelte-1lhkq7r")},m(e,t){h(e,a,t),h(e,s,t),d(s,p),h(e,x,t),h(e,v,t),b.m(T,v),d(v,y),V(A,v,null),w=!0},p(e,[a]){(!w||1&a)&&t!==(t=e[0].title)&&(document.title=t),(!w||1&a)&&P!==(P=e[0].title+"")&&g(p,P),(!w||1&a)&&T!==(T=e[0].html+"")&&b.p(T);const s={};1&a&&(s.slug=e[0].slug),2&a&&(s.env=e[1]),A.$set(s)},i(e){w||(D(A.$$.fragment,e),w=!0)},o(e){$(A.$$.fragment,e),w=!1},d(e){e&&i(a),e&&i(s),e&&i(x),e&&i(v),N(A)}}}async function R({params:e,query:t}){const a=await this.fetch("settings.json"),s=await a.json(),r=await this.fetch(`blog/${e.slug}.json`),l=await r.json();if(200===r.status)return{post:l,env:s.ENV};this.error(r.status,l.message)}function Y(e,t,a){let{post:s}=t,{env:r}=t;return e.$set=e=>{"post"in e&&a(0,s=e.post),"env"in e&&a(1,r=e.env)},[s,r]}export default class extends e{constructor(e){super(),t(this,e,Y,H,a,{post:0,env:1})}}export{R as preload};
