import{S as t,i as e,s as a,o as s,e as r,a as l,t as o,b as c,f as n,d as i,c as u,g as f,h as m,j as h,k as d,p,r as x,l as g,n as b,u as v,v as y,m as w,w as E,q as k,x as I,y as D,z as V,A as $,B as N,H as P}from"./client.8babb318.js";function j(t,e,a){const s=t.slice();return s[1]=e[a],s}function T(t){let e,a;return{c(){e=r("p"),a=o("No comments yet")},l(t){e=c(t,"P",{});var s=n(e);a=f(s,"No comments yet"),s.forEach(i)},m(t,s){h(t,e,s),d(e,a)},p:b,d(t){t&&i(e)}}}function A(t){let e,a=t[2],s=[];for(let e=0;e<a.length;e+=1)s[e]=L(j(t,a,e));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=y()},l(t){for(let e=0;e<s.length;e+=1)s[e].l(t);e=y()},m(t,a){for(let e=0;e<s.length;e+=1)s[e].m(t,a);h(t,e,a)},p(t,r){if(4&r){let l;for(a=t[2],l=0;l<a.length;l+=1){const o=j(t,a,l);s[l]?s[l].p(o,r):(s[l]=L(o),s[l].c(),s[l].m(e.parentNode,e))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}},d(t){w(s,t),t&&i(e)}}}function L(t){let e,a,s,p,x,b,v,y,w,E,k,I,D=t[1].text+"",V=t[1].name+"",$=O(t[1].date)+"";return{c(){e=r("div"),a=r("div"),s=r("div"),p=r("p"),x=o(D),b=l(),v=r("p"),y=o(V),w=l(),E=r("span"),k=o($),I=l(),this.h()},l(t){e=c(t,"DIV",{class:!0,role:!0});var r=n(e);a=c(r,"DIV",{class:!0});var l=n(a);s=c(l,"DIV",{class:!0});var o=n(s);p=c(o,"P",{class:!0});var m=n(p);x=f(m,D),m.forEach(i),b=u(o),v=c(o,"P",{class:!0});var h=n(v);y=f(h,V),w=u(h),E=c(h,"SPAN",{class:!0});var d=n(E);k=f(d,$),d.forEach(i),h.forEach(i),o.forEach(i),l.forEach(i),I=u(r),r.forEach(i),this.h()},h(){m(p,"class","font-bold text-gray-700"),m(E,"class","text-gray-500 text-sm"),m(v,"class","text-gray-600"),m(s,"class","pl-2"),m(a,"class","p-4 flex"),m(e,"class","shadow bg-white rounded-md mb-1"),m(e,"role","alert")},m(t,r){h(t,e,r),d(e,a),d(a,s),d(s,p),d(p,x),d(s,b),d(s,v),d(v,y),d(v,w),d(v,E),d(E,k),d(e,I)},p(t,e){4&e&&D!==(D=t[1].text+"")&&g(x,D),4&e&&V!==(V=t[1].name+"")&&g(y,V),4&e&&$!==($=O(t[1].date)+"")&&g(k,$)},d(t){t&&i(e)}}}function S(t){let e,a,s;return{c(){e=r("figure"),a=r("img"),this.h()},l(t){e=c(t,"FIGURE",{class:!0});var s=n(e);a=c(s,"IMG",{class:!0,src:!0,alt:!0}),s.forEach(i),this.h()},h(){m(a,"class","w-48"),a.src!==(s="loader.gif")&&m(a,"src","loader.gif"),m(a,"alt","Loader"),m(e,"class","flex justify-center")},m(t,s){h(t,e,s),d(e,a)},p:b,d(t){t&&i(e)}}}function B(t){let e,a,y,w,E,k,I,D,V,$,N,P,j,L,B,O,U,q,C,H,R,Y,z,F,G,M,W,J,X,K,Q,Z,_,tt,et,at,st,rt,lt,ot,ct,nt,it,ut=t[0].name+"",ft=t[0].email+"",mt=t[0].text+"",ht={ctx:t,current:null,token:null,pending:S,then:A,catch:T,value:2,error:13};return s(I=t[2],ht),{c(){e=r("div"),a=l(),y=r("div"),w=r("h4"),E=o("Write a comment! ðŸ˜€"),k=l(),ht.block.c(),D=l(),V=r("form"),$=r("div"),N=r("div"),P=r("label"),j=o("Name"),L=l(),B=r("input"),O=l(),U=r("p"),q=o(ut),C=l(),H=r("div"),R=r("label"),Y=o("Email"),z=l(),F=r("input"),G=l(),M=r("p"),W=o(ft),J=l(),X=r("div"),K=r("div"),Q=r("label"),Z=o("Comment"),_=l(),tt=r("textarea"),et=l(),at=r("p"),st=o(mt),rt=l(),lt=r("div"),ot=r("button"),ct=o("Send"),this.h()},l(t){e=c(t,"DIV",{class:!0}),n(e).forEach(i),a=u(t),y=c(t,"DIV",{});var s=n(y);w=c(s,"H4",{class:!0});var r=n(w);E=f(r,"Write a comment! ðŸ˜€"),r.forEach(i),k=u(s),ht.block.l(s),D=u(s),V=c(s,"FORM",{onsubmit:!0,class:!0});var l=n(V);$=c(l,"DIV",{class:!0});var o=n($);N=c(o,"DIV",{class:!0});var m=n(N);P=c(m,"LABEL",{for:!0,class:!0});var h=n(P);j=f(h,"Name"),h.forEach(i),L=u(m),B=c(m,"INPUT",{type:!0,class:!0}),O=u(m),U=c(m,"P",{class:!0});var d=n(U);q=f(d,ut),d.forEach(i),m.forEach(i),C=u(o),H=c(o,"DIV",{class:!0});var p=n(H);R=c(p,"LABEL",{for:!0,class:!0});var x=n(R);Y=f(x,"Email"),x.forEach(i),z=u(p),F=c(p,"INPUT",{type:!0,class:!0}),G=u(p),M=c(p,"P",{class:!0});var g=n(M);W=f(g,ft),g.forEach(i),p.forEach(i),o.forEach(i),J=u(l),X=c(l,"DIV",{class:!0});var b=n(X);K=c(b,"DIV",{class:!0});var v=n(K);Q=c(v,"LABEL",{for:!0,class:!0});var I=n(Q);Z=f(I,"Comment"),I.forEach(i),_=u(v),tt=c(v,"TEXTAREA",{rows:!0,class:!0}),n(tt).forEach(i),et=u(v),at=c(v,"P",{class:!0});var T=n(at);st=f(T,mt),T.forEach(i),v.forEach(i),b.forEach(i),rt=u(l),lt=c(l,"DIV",{class:!0});var A=n(lt);ot=c(A,"BUTTON",{class:!0});var S=n(ot);ct=f(S,"Send"),S.forEach(i),A.forEach(i),l.forEach(i),s.forEach(i),this.h()},h(){m(e,"class","border-t-2 border-red-400 my-10"),m(w,"class","text-2xl text-black text-center mb-10"),m(P,"for","name"),m(P,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),m(B,"type","text"),m(B,"class","appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"),m(U,"class","text-red-600 text-xs"),m(N,"class","w-full md:w-1/2 px-3 mb-6 md:mb-0"),m(R,"for","email"),m(R,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),m(F,"type","text"),m(F,"class","appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"),m(M,"class","text-red-600 text-xs"),m(H,"class","w-full md:w-1/2 px-3"),m($,"class","flex flex-wrap -mx-3 mb-6"),m(Q,"for","comment"),m(Q,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),m(tt,"rows","2"),m(tt,"class","appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"),m(at,"class","text-red-600 text-xs"),m(K,"class","w-full px-3"),m(X,"class","flex flex-wrap -mx-3 mb-6"),m(ot,"class","w-full bg-red-500 hover:bg-red-400 text-white font-bold py-2 px-4 border-b-4 border-red-700 hover:border-red-500 rounded"),m(lt,"class","w-full"),m(V,"onsubmit","return false"),m(V,"class","w-full mt-16")},m(s,r){h(s,e,r),h(s,a,r),h(s,y,r),d(y,w),d(w,E),d(y,k),ht.block.m(y,ht.anchor=null),ht.mount=()=>y,ht.anchor=D,d(y,D),d(y,V),d(V,$),d($,N),d(N,P),d(P,j),d(N,L),d(N,B),p(B,t[1].name),d(N,O),d(N,U),d(U,q),d($,C),d($,H),d(H,R),d(R,Y),d(H,z),d(H,F),p(F,t[1].email),d(H,G),d(H,M),d(M,W),d(V,J),d(V,X),d(X,K),d(K,Q),d(Q,Z),d(K,_),d(K,tt),p(tt,t[1].text),d(K,et),d(K,at),d(at,st),d(V,rt),d(V,lt),d(lt,ot),d(ot,ct),nt||(it=[x(B,"input",t[8]),x(F,"input",t[9]),x(tt,"input",t[10]),x(ot,"click",t[3])],nt=!0)},p(e,[a]){if(t=e,ht.ctx=t,4&a&&I!==(I=t[2])&&s(I,ht));else{const e=t.slice();e[2]=ht.resolved,ht.block.p(e,a)}2&a&&B.value!==t[1].name&&p(B,t[1].name),1&a&&ut!==(ut=t[0].name+"")&&g(q,ut),2&a&&F.value!==t[1].email&&p(F,t[1].email),1&a&&ft!==(ft=t[0].email+"")&&g(W,ft),2&a&&p(tt,t[1].text),1&a&&mt!==(mt=t[0].text+"")&&g(st,mt)},i:b,o:b,d(t){t&&i(e),t&&i(a),t&&i(y),ht.block.d(),ht.token=null,ht=null,nt=!1,v(it)}}}function O(t){return t.split(".")[0]}function U(t){for(let e in t)t[e]="";return t}function q(t,e,a){let{slug:s}=e;const r="https://xjdf38glwl.execute-api.eu-west-1.amazonaws.com/prod/comments/"+s;let l={name:"",email:"",text:""},o={name:"",email:"",text:""},c=n();async function n(){const t=await fetch(r);if(!t.ok)throw new Error(text);return await t.json()}function i(){let t=!1;return""===l.name&&(a(0,o.name="You have to specify your name",o),t=!0),""!==l.email&&-1!==l.email.indexOf("@")||(a(0,o.email="You have to specify your email",o),t=!0),""===l.text&&(a(0,o.text="You have to specify a comment",o),t=!0),t}return t.$set=t=>{"slug"in t&&a(4,s=t.slug)},[o,l,c,async function(){a(0,o=U(o)),i()||(await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),a(2,c=n()),a(1,l=U(l)))},s,r,n,i,function(){l.name=this.value,a(1,l)},function(){l.email=this.value,a(1,l)},function(){l.text=this.value,a(1,l)}]}class C extends t{constructor(t){super(),e(this,t,q,B,a,{slug:4})}}function H(t){let e,a,s,p,x,b,v,y,w,j=t[0].title+"",T=t[0].html+"";document.title=e=t[0].title;const A=new C({props:{slug:t[0].slug}});return{c(){a=l(),s=r("h1"),p=o(j),x=l(),b=r("div"),y=l(),E(A.$$.fragment),this.h()},l(t){k('[data-svelte="svelte-1uty71u"]',document.head).forEach(i),a=u(t),s=c(t,"H1",{class:!0});var e=n(s);p=f(e,j),e.forEach(i),x=u(t),b=c(t,"DIV",{class:!0});var r=n(b);y=u(r),I(A.$$.fragment,r),r.forEach(i),this.h()},h(){m(s,"class","text-4xl"),v=new P(y),m(b,"class","content mb-10 svelte-1lhkq7r")},m(t,e){h(t,a,e),h(t,s,e),d(s,p),h(t,x,e),h(t,b,e),v.m(T,b),d(b,y),D(A,b,null),w=!0},p(t,[a]){(!w||1&a)&&e!==(e=t[0].title)&&(document.title=e),(!w||1&a)&&j!==(j=t[0].title+"")&&g(p,j),(!w||1&a)&&T!==(T=t[0].html+"")&&v.p(T);const s={};1&a&&(s.slug=t[0].slug),A.$set(s)},i(t){w||(V(A.$$.fragment,t),w=!0)},o(t){$(A.$$.fragment,t),w=!1},d(t){t&&i(a),t&&i(s),t&&i(x),t&&i(b),N(A)}}}async function R({params:t,query:e}){const a=await this.fetch(`blog/${t.slug}.json`),s=await a.json();if(200===a.status)return{post:s};this.error(a.status,s.message)}function Y(t,e,a){let{post:s}=e;return t.$set=t=>{"post"in t&&a(0,s=t.post)},[s]}export default class extends t{constructor(t){super(),e(this,t,Y,H,a,{post:0})}}export{R as preload};
